/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var z=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(d,e)=>{for(var t in e)z(d,t,{get:e[t],enumerable:!0})},ie=(d,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Q(e))!ee.call(d,i)&&i!==t&&z(d,i,{get:()=>e[i],enumerable:!(n=J(e,i))||n.enumerable});return d};var ne=d=>ie(z({},"__esModule",{value:!0}),d);var re={};te(re,{default:()=>F});module.exports=ne(re);var Y=require("obsidian");var c=require("obsidian");var Z=require("obsidian");var L={menu:{remoteImage:"Remote image",copyImageUrl:"Copy image URL",copyImage:"Copy image",copyLocalPath:"Copy local path",resizeTo:"Resize to {size}",removeCustomSize:"Remove custom size",showInFinder:"Show in Finder",showInExplorer:"Show in Explorer",renameImage:"Rename image",deleteImageAndLink:"Delete image and link",openInNewTab:"Open in new tab",openInDefaultApp:"Open in default app",openInEditor:"Open in {editor}"},notices:{imageUrlCopied:"Image URL copied to clipboard",imageCopied:"Image copied to clipboard",filePathCopied:"File path copied to clipboard",customSizeRemoved:"Removed custom size from image",imageRenamed:"Image renamed successfully",imageAndLinksDeleted:"Image and links deleted successfully",imageDeleted:"Image deleted successfully",couldNotReadDimensions:"Could not read image dimensions",cannotCopyPath:"Cannot copy path - not using file system adapter",couldNotLocateImage:"Could not locate image file",setEditorPath:"Please set your {editor} path in Pixel Perfect Image settings.",cannotOpenFile:"Cannot open file: This vault uses a non-standard storage system",couldNotOpenInEditor:"Could not open file in {editor}.",failedToRename:"Failed to rename image",failedToDelete:"Failed to delete image and links",clickInEditorFirst:"Please click in the editor first, then try copying again",failedToResize:"Failed to resize image",failedToPerformAction:"Failed to {action}",failedToCopyUrl:"Failed to copy image URL",failedToCopyImage:"Failed to copy image to clipboard",failedToCopyPath:"Failed to copy file path",failedToResizeTo:"Failed to resize image to {size}",failedToRemoveSize:"Failed to remove custom size from image",failedToOpenExplorer:"Failed to open system explorer",failedToRenameImage:"Failed to rename image",failedToDeleteImage:"Failed to delete image",failedToOpenInNewTab:"Failed to open image in new tab",failedToOpenInDefaultApp:"Failed to open in default app",failedToOpenInEditor:"Failed to open image in {editor}"},settings:{headings:{menuOptions:"Toggle individual menu options",mousewheelZoom:"Mousewheel zoom",externalEditor:"External editor",advanced:"Advanced"},items:{fileInfo:{name:"File information",desc:"Show filename and dimensions at top of menu"},showInExplorer:{name:"Show in Finder/Explorer",desc:"Show option to reveal image in system file explorer"},renameImage:{name:"Rename image",desc:"Show option to rename image file"},deleteImage:{name:"Delete image and link",desc:"Show option to delete both image file and link"},openInNewTab:{name:"Open in new tab",desc:"Show option to open image in new tab"},openInDefaultApp:{name:"Open in default app",desc:"Show option to open image in default app"},resizeOptions:{name:"Resize options",desc:"Set resize options (comma-separated). Use % for percentages (e.g., 25%, 50%) or px for pixels (e.g., 600px, 800px)",placeholder:"e.g., 25%, 50%, 100%, 600px"},cmdClickBehavior:{name:"{cmd} + click behavior",desc:"Choose what happens when you {cmd} + click an image",options:{doNothing:"Do nothing",openInNewTab:"Open in new tab",openInDefaultApp:"Open in default app",openInEditor:"Open in {editor}"}},enableWheelZoom:{name:"Enable mousewheel zoom",desc:"Hold modifier key and scroll to resize images"},modifierKey:{name:"Modifier key",desc:"Key to hold while scrolling to zoom images",options:{alt:"Alt",option:"Option",ctrl:"Ctrl",shift:"Shift"}},zoomStepSize:{name:"Zoom step size",desc:"Percentage to zoom per scroll step",resetToDefault:"Reset to default"},invertScroll:{name:"Invert scroll direction",desc:"Invert the zoom direction when scrolling"},externalEditorName:{name:"External editor name",desc:"Name of your external editor (e.g., Photoshop)",placeholder:"Photoshop"},externalEditorPathMac:{name:"External editor path (macOS)",desc:"Full path to your external editor application on macOS",placeholder:"/Applications/Adobe Photoshop 2025/Adobe Photoshop 2025.app"},externalEditorPathWin:{name:"External editor path (Windows)",desc:"Full path to your external editor application on Windows",placeholder:"C:\\Program Files\\Adobe\\Adobe Photoshop 2025\\Photoshop.exe"},confirmDelete:{name:"Confirm before delete",desc:"Show confirmation dialog before deleting files"},debugMode:{name:"Debug mode",desc:"Enable debug logging to console"}}},modals:{rename:{title:"Rename image",renameButton:"Rename",cancelButton:"Cancel"},delete:{title:"Delete image",confirmMessage:'Are you sure you want to delete "{filename}"?',warningMessage:"This will delete both the image file and all links to it in the current document.",deleteButton:"Delete",cancelButton:"Cancel"}},actions:{performAction:"perform action",openInNewTab:"open image in new tab",openInDefaultApp:"open image in default app",openInEditor:"open image in {editor}"}};var B={menu:{remoteImage:"Remote-Bild",copyImageUrl:"Bild-URL kopieren",copyImage:"Bild kopieren",copyLocalPath:"Lokalen Pfad kopieren",resizeTo:"Gr\xF6\xDFe \xE4ndern auf {size}",removeCustomSize:"Benutzerdefinierte Gr\xF6\xDFe entfernen",showInFinder:"Show in Finder",showInExplorer:"Im Explorer anzeigen",renameImage:"Bild umbenennen",deleteImageAndLink:"Bild und Link l\xF6schen",openInNewTab:"In neuem Tab \xF6ffnen",openInDefaultApp:"In Standard-App \xF6ffnen",openInEditor:"In {editor} \xF6ffnen"},notices:{imageUrlCopied:"Bild-URL in Zwischenablage kopiert",imageCopied:"Bild in Zwischenablage kopiert",filePathCopied:"Dateipfad in Zwischenablage kopiert",customSizeRemoved:"Benutzerdefinierte Gr\xF6\xDFe vom Bild entfernt",imageRenamed:"Bild erfolgreich umbenannt",imageAndLinksDeleted:"Bild und Links erfolgreich gel\xF6scht",imageDeleted:"Bild erfolgreich gel\xF6scht",couldNotReadDimensions:"Bildabmessungen konnten nicht gelesen werden",cannotCopyPath:"Pfad kann nicht kopiert werden - kein Dateisystem-Adapter",couldNotLocateImage:"Bilddatei konnte nicht gefunden werden",setEditorPath:"Bitte legen Sie den {editor}-Pfad in den Pixel Perfect Image Einstellungen fest.",cannotOpenFile:"Datei kann nicht ge\xF6ffnet werden: Dieser Vault verwendet ein nicht-standardm\xE4\xDFiges Speichersystem",couldNotOpenInEditor:"Datei konnte nicht in {editor} ge\xF6ffnet werden.",failedToRename:"Umbenennen des Bildes fehlgeschlagen",failedToDelete:"L\xF6schen von Bild und Links fehlgeschlagen",clickInEditorFirst:"Bitte klicken Sie zuerst in den Editor und versuchen Sie dann erneut zu kopieren",failedToResize:"Gr\xF6\xDFen\xE4nderung des Bildes fehlgeschlagen",failedToPerformAction:"{action} fehlgeschlagen",failedToCopyUrl:"Kopieren der Bild-URL fehlgeschlagen",failedToCopyImage:"Kopieren des Bildes in Zwischenablage fehlgeschlagen",failedToCopyPath:"Kopieren des Dateipfads fehlgeschlagen",failedToResizeTo:"Gr\xF6\xDFen\xE4nderung auf {size} fehlgeschlagen",failedToRemoveSize:"Entfernen der benutzerdefinierten Gr\xF6\xDFe fehlgeschlagen",failedToOpenExplorer:"\xD6ffnen des System-Explorers fehlgeschlagen",failedToRenameImage:"Umbenennen des Bildes fehlgeschlagen",failedToDeleteImage:"L\xF6schen des Bildes fehlgeschlagen",failedToOpenInNewTab:"\xD6ffnen des Bildes in neuem Tab fehlgeschlagen",failedToOpenInDefaultApp:"\xD6ffnen in Standard-App fehlgeschlagen",failedToOpenInEditor:"\xD6ffnen des Bildes in {editor} fehlgeschlagen"},settings:{headings:{menuOptions:"Einzelne Men\xFCoptionen umschalten",mousewheelZoom:"Mausrad-Zoom",externalEditor:"Externer Editor",advanced:"Erweitert"},items:{fileInfo:{name:"Dateiinformationen",desc:"Dateiname und Abmessungen oben im Men\xFC anzeigen"},showInExplorer:{name:"Show in Finder/Explorer",desc:"Option zum Anzeigen des Bildes im System-Dateiexplorer anzeigen"},renameImage:{name:"Bild umbenennen",desc:"Option zum Umbenennen der Bilddatei anzeigen"},deleteImage:{name:"Bild und Link l\xF6schen",desc:"Option zum L\xF6schen von Bilddatei und Link anzeigen"},openInNewTab:{name:"In neuem Tab \xF6ffnen",desc:"Option zum \xD6ffnen des Bildes in neuem Tab anzeigen"},openInDefaultApp:{name:"In Standard-App \xF6ffnen",desc:"Option zum \xD6ffnen des Bildes in Standard-App anzeigen"},resizeOptions:{name:"Gr\xF6\xDFenoptionen",desc:"Gr\xF6\xDFenoptionen festlegen (kommagetrennt). Verwenden Sie % f\xFCr Prozent (z.B. 25%, 50%) oder px f\xFCr Pixel (z.B. 600px, 800px)",placeholder:"z.B. 25%, 50%, 100%, 600px"},cmdClickBehavior:{name:"{cmd} + Klick Verhalten",desc:"W\xE4hlen Sie, was passiert, wenn Sie {cmd} + Klick auf ein Bild ausf\xFChren",options:{doNothing:"Nichts tun",openInNewTab:"In neuem Tab \xF6ffnen",openInDefaultApp:"In Standard-App \xF6ffnen",openInEditor:"In {editor} \xF6ffnen"}},enableWheelZoom:{name:"Mausrad-Zoom aktivieren",desc:"Modifikationstaste halten und scrollen zum \xC4ndern der Bildgr\xF6\xDFe"},modifierKey:{name:"Modifikationstaste",desc:"Taste, die beim Scrollen zum Zoomen gehalten werden muss",options:{alt:"Alt",option:"Option",ctrl:"Strg",shift:"Umschalt"}},zoomStepSize:{name:"Zoom-Schrittgr\xF6\xDFe",desc:"Prozentsatz zum Zoomen pro Scroll-Schritt",resetToDefault:"Auf Standard zur\xFCcksetzen"},invertScroll:{name:"Scroll-Richtung umkehren",desc:"Zoom-Richtung beim Scrollen umkehren"},externalEditorName:{name:"Name des externen Editors",desc:"Name Ihres externen Editors (z.B. Photoshop)",placeholder:"Photoshop"},externalEditorPathMac:{name:"Pfad zum externen Editor (macOS)",desc:"Vollst\xE4ndiger Pfad zu Ihrer externen Editor-Anwendung auf macOS",placeholder:"/Applications/Adobe Photoshop 2025/Adobe Photoshop 2025.app"},externalEditorPathWin:{name:"Pfad zum externen Editor (Windows)",desc:"Vollst\xE4ndiger Pfad zu Ihrer externen Editor-Anwendung auf Windows",placeholder:"C:\\Program Files\\Adobe\\Adobe Photoshop 2025\\Photoshop.exe"},confirmDelete:{name:"Vor dem L\xF6schen best\xE4tigen",desc:"Best\xE4tigungsdialog vor dem L\xF6schen von Dateien anzeigen"},debugMode:{name:"Debug-Modus",desc:"Debug-Protokollierung in Konsole aktivieren"}}},modals:{rename:{title:"Bild umbenennen",renameButton:"Umbenennen",cancelButton:"Abbrechen"},delete:{title:"Bild l\xF6schen",confirmMessage:'M\xF6chten Sie "{filename}" wirklich l\xF6schen?',warningMessage:"Dies l\xF6scht sowohl die Bilddatei als auch alle Links dazu im aktuellen Dokument.",deleteButton:"L\xF6schen",cancelButton:"Abbrechen"}},actions:{performAction:"Aktion ausf\xFChren",openInNewTab:"Bild in neuem Tab \xF6ffnen",openInDefaultApp:"Bild in Standard-App \xF6ffnen",openInEditor:"Bild in {editor} \xF6ffnen"}};var W={menu:{remoteImage:"Imagen remota",copyImageUrl:"Copiar URL de imagen",copyImage:"Copiar imagen",copyLocalPath:"Copiar ruta local",resizeTo:"Redimensionar a {size}",removeCustomSize:"Eliminar tama\xF1o personalizado",showInFinder:"Show in Finder",showInExplorer:"Mostrar en Explorador",renameImage:"Renombrar imagen",deleteImageAndLink:"Eliminar imagen y enlace",openInNewTab:"Abrir en nueva pesta\xF1a",openInDefaultApp:"Abrir con aplicaci\xF3n predeterminada",openInEditor:"Abrir en {editor}"},notices:{imageUrlCopied:"URL de imagen copiada al portapapeles",imageCopied:"Imagen copiada al portapapeles",filePathCopied:"Ruta del archivo copiada al portapapeles",customSizeRemoved:"Tama\xF1o personalizado eliminado de la imagen",imageRenamed:"Imagen renombrada exitosamente",imageAndLinksDeleted:"Imagen y enlaces eliminados exitosamente",imageDeleted:"Imagen eliminada exitosamente",couldNotReadDimensions:"No se pudieron leer las dimensiones de la imagen",cannotCopyPath:"No se puede copiar la ruta - no usa adaptador del sistema de archivos",couldNotLocateImage:"No se pudo localizar el archivo de imagen",setEditorPath:"Por favor, configura la ruta de {editor} en la configuraci\xF3n de Pixel Perfect Image.",cannotOpenFile:"No se puede abrir el archivo: Esta b\xF3veda usa un sistema de almacenamiento no est\xE1ndar",couldNotOpenInEditor:"No se pudo abrir el archivo en {editor}.",failedToRename:"Error al renombrar la imagen",failedToDelete:"Error al eliminar la imagen y enlaces",clickInEditorFirst:"Por favor, haz clic en el editor primero, luego intenta copiar nuevamente",failedToResize:"Error al redimensionar la imagen",failedToPerformAction:"Error al {action}",failedToCopyUrl:"Error al copiar URL de imagen",failedToCopyImage:"Error al copiar imagen al portapapeles",failedToCopyPath:"Error al copiar la ruta del archivo",failedToResizeTo:"Error al redimensionar imagen a {size}",failedToRemoveSize:"Error al eliminar tama\xF1o personalizado de la imagen",failedToOpenExplorer:"Error al abrir el explorador del sistema",failedToRenameImage:"Error al renombrar la imagen",failedToDeleteImage:"Error al eliminar la imagen",failedToOpenInNewTab:"Error al abrir imagen en nueva pesta\xF1a",failedToOpenInDefaultApp:"Error al abrir con aplicaci\xF3n predeterminada",failedToOpenInEditor:"Error al abrir imagen en {editor}"},settings:{headings:{menuOptions:"Alternar opciones individuales del men\xFA",mousewheelZoom:"Zoom con rueda del rat\xF3n",externalEditor:"Editor externo",advanced:"Avanzado"},items:{fileInfo:{name:"Informaci\xF3n del archivo",desc:"Mostrar nombre del archivo y dimensiones en la parte superior del men\xFA"},showInExplorer:{name:"Show in Finder/Explorador",desc:"Mostrar opci\xF3n para revelar imagen en el explorador de archivos del sistema"},renameImage:{name:"Renombrar imagen",desc:"Mostrar opci\xF3n para renombrar archivo de imagen"},deleteImage:{name:"Eliminar imagen y enlace",desc:"Mostrar opci\xF3n para eliminar tanto el archivo de imagen como el enlace"},openInNewTab:{name:"Abrir en nueva pesta\xF1a",desc:"Mostrar opci\xF3n para abrir imagen en nueva pesta\xF1a"},openInDefaultApp:{name:"Abrir con aplicaci\xF3n predeterminada",desc:"Mostrar opci\xF3n para abrir imagen con aplicaci\xF3n predeterminada"},resizeOptions:{name:"Opciones de redimensionado",desc:"Configurar opciones de redimensionado (separadas por comas). Usa % para porcentajes (ej., 25%, 50%) o px para p\xEDxeles (ej., 600px, 800px)",placeholder:"ej., 25%, 50%, 100%, 600px"},cmdClickBehavior:{name:"Comportamiento de {cmd} + clic",desc:"Elige qu\xE9 sucede cuando haces {cmd} + clic en una imagen",options:{doNothing:"No hacer nada",openInNewTab:"Abrir en nueva pesta\xF1a",openInDefaultApp:"Abrir con aplicaci\xF3n predeterminada",openInEditor:"Abrir en {editor}"}},enableWheelZoom:{name:"Habilitar zoom con rueda del rat\xF3n",desc:"Mant\xE9n presionada la tecla modificadora y despl\xE1zate para redimensionar im\xE1genes"},modifierKey:{name:"Tecla modificadora",desc:"Tecla a mantener mientras te desplazas para hacer zoom en im\xE1genes",options:{alt:"Alt",option:"Option",ctrl:"Ctrl",shift:"Shift"}},zoomStepSize:{name:"Tama\xF1o del paso de zoom",desc:"Porcentaje a hacer zoom por paso de desplazamiento",resetToDefault:"Restablecer a predeterminado"},invertScroll:{name:"Invertir direcci\xF3n de desplazamiento",desc:"Invertir la direcci\xF3n del zoom al desplazarse"},externalEditorName:{name:"Nombre del editor externo",desc:"Nombre de tu editor externo (ej., Photoshop)",placeholder:"Photoshop"},externalEditorPathMac:{name:"Ruta del editor externo (macOS)",desc:"Ruta completa a tu aplicaci\xF3n de editor externo en macOS",placeholder:"/Applications/Adobe Photoshop 2025/Adobe Photoshop 2025.app"},externalEditorPathWin:{name:"Ruta del editor externo (Windows)",desc:"Ruta completa a tu aplicaci\xF3n de editor externo en Windows",placeholder:"C:\\Program Files\\Adobe\\Adobe Photoshop 2025\\Photoshop.exe"},confirmDelete:{name:"Confirmar antes de eliminar",desc:"Mostrar di\xE1logo de confirmaci\xF3n antes de eliminar archivos"},debugMode:{name:"Modo de depuraci\xF3n",desc:"Habilitar registro de depuraci\xF3n en la consola"}}},modals:{rename:{title:"Renombrar imagen",renameButton:"Renombrar",cancelButton:"Cancelar"},delete:{title:"Eliminar imagen",confirmMessage:'\xBFEst\xE1s seguro de que quieres eliminar "{filename}"?',warningMessage:"Esto eliminar\xE1 tanto el archivo de imagen como todos los enlaces a \xE9l en el documento actual.",deleteButton:"Eliminar",cancelButton:"Cancelar"}},actions:{performAction:"realizar acci\xF3n",openInNewTab:"abrir imagen en nueva pesta\xF1a",openInDefaultApp:"abrir imagen con aplicaci\xF3n predeterminada",openInEditor:"abrir imagen en {editor}"}};var U={menu:{remoteImage:"Image distante",copyImageUrl:"Copier l'URL de l'image",copyImage:"Copier l'image",copyLocalPath:"Copier le chemin local",resizeTo:"Redimensionner \xE0 {size}",removeCustomSize:"Supprimer la taille personnalis\xE9e",showInFinder:"Show in Finder",showInExplorer:"Afficher dans l'Explorateur",renameImage:"Renommer l'image",deleteImageAndLink:"Supprimer l'image et le lien",openInNewTab:"Ouvrir dans un nouvel onglet",openInDefaultApp:"Ouvrir avec l'application par d\xE9faut",openInEditor:"Ouvrir dans {editor}"},notices:{imageUrlCopied:"URL de l'image copi\xE9e dans le presse-papiers",imageCopied:"Image copi\xE9e dans le presse-papiers",filePathCopied:"Chemin du fichier copi\xE9 dans le presse-papiers",customSizeRemoved:"Taille personnalis\xE9e supprim\xE9e de l'image",imageRenamed:"Image renomm\xE9e avec succ\xE8s",imageAndLinksDeleted:"Image et liens supprim\xE9s avec succ\xE8s",imageDeleted:"Image supprim\xE9e avec succ\xE8s",couldNotReadDimensions:"Impossible de lire les dimensions de l'image",cannotCopyPath:"Impossible de copier le chemin - n'utilise pas l'adaptateur du syst\xE8me de fichiers",couldNotLocateImage:"Impossible de localiser le fichier image",setEditorPath:"Veuillez d\xE9finir le chemin de {editor} dans les param\xE8tres de Pixel Perfect Image.",cannotOpenFile:"Impossible d'ouvrir le fichier : Ce coffre utilise un syst\xE8me de stockage non standard",couldNotOpenInEditor:"Impossible d'ouvrir le fichier dans {editor}.",failedToRename:"\xC9chec du renommage de l'image",failedToDelete:"\xC9chec de la suppression de l'image et des liens",clickInEditorFirst:"Veuillez d'abord cliquer dans l'\xE9diteur, puis r\xE9essayer de copier",failedToResize:"\xC9chec du redimensionnement de l'image",failedToPerformAction:"\xC9chec de {action}",failedToCopyUrl:"\xC9chec de la copie de l'URL de l'image",failedToCopyImage:"\xC9chec de la copie de l'image dans le presse-papiers",failedToCopyPath:"\xC9chec de la copie du chemin du fichier",failedToResizeTo:"\xC9chec du redimensionnement de l'image \xE0 {size}",failedToRemoveSize:"\xC9chec de la suppression de la taille personnalis\xE9e de l'image",failedToOpenExplorer:"\xC9chec de l'ouverture de l'explorateur syst\xE8me",failedToRenameImage:"\xC9chec du renommage de l'image",failedToDeleteImage:"\xC9chec de la suppression de l'image",failedToOpenInNewTab:"\xC9chec de l'ouverture de l'image dans un nouvel onglet",failedToOpenInDefaultApp:"\xC9chec de l'ouverture avec l'application par d\xE9faut",failedToOpenInEditor:"\xC9chec de l'ouverture de l'image dans {editor}"},settings:{headings:{menuOptions:"Basculer les options individuelles du menu",mousewheelZoom:"Zoom avec la molette",externalEditor:"\xC9diteur externe",advanced:"Avanc\xE9"},items:{fileInfo:{name:"Informations du fichier",desc:"Afficher le nom du fichier et les dimensions en haut du menu"},showInExplorer:{name:"Show in Finder/Explorateur",desc:"Afficher l'option pour r\xE9v\xE9ler l'image dans l'explorateur de fichiers syst\xE8me"},renameImage:{name:"Renommer l'image",desc:"Afficher l'option pour renommer le fichier image"},deleteImage:{name:"Supprimer l'image et le lien",desc:"Afficher l'option pour supprimer \xE0 la fois le fichier image et le lien"},openInNewTab:{name:"Ouvrir dans un nouvel onglet",desc:"Afficher l'option pour ouvrir l'image dans un nouvel onglet"},openInDefaultApp:{name:"Ouvrir avec l'application par d\xE9faut",desc:"Afficher l'option pour ouvrir l'image avec l'application par d\xE9faut"},resizeOptions:{name:"Options de redimensionnement",desc:"D\xE9finir les options de redimensionnement (s\xE9par\xE9es par des virgules). Utiliser % pour les pourcentages (ex., 25%, 50%) ou px pour les pixels (ex., 600px, 800px)",placeholder:"ex., 25%, 50%, 100%, 600px"},cmdClickBehavior:{name:"Comportement {cmd} + clic",desc:"Choisir ce qui se passe lorsque vous faites {cmd} + clic sur une image",options:{doNothing:"Ne rien faire",openInNewTab:"Ouvrir dans un nouvel onglet",openInDefaultApp:"Ouvrir avec l'application par d\xE9faut",openInEditor:"Ouvrir dans {editor}"}},enableWheelZoom:{name:"Activer le zoom avec la molette",desc:"Maintenez la touche de modification et faites d\xE9filer pour redimensionner les images"},modifierKey:{name:"Touche de modification",desc:"Touche \xE0 maintenir enfonc\xE9e pendant le d\xE9filement pour zoomer sur les images",options:{alt:"Alt",option:"Option",ctrl:"Ctrl",shift:"Shift"}},zoomStepSize:{name:"Taille du pas de zoom",desc:"Pourcentage de zoom par \xE9tape de d\xE9filement",resetToDefault:"R\xE9initialiser par d\xE9faut"},invertScroll:{name:"Inverser la direction de d\xE9filement",desc:"Inverser la direction du zoom lors du d\xE9filement"},externalEditorName:{name:"Nom de l'\xE9diteur externe",desc:"Nom de votre \xE9diteur externe (ex., Photoshop)",placeholder:"Photoshop"},externalEditorPathMac:{name:"Chemin de l'\xE9diteur externe (macOS)",desc:"Chemin complet vers votre application d'\xE9diteur externe sur macOS",placeholder:"/Applications/Adobe Photoshop 2025/Adobe Photoshop 2025.app"},externalEditorPathWin:{name:"Chemin de l'\xE9diteur externe (Windows)",desc:"Chemin complet vers votre application d'\xE9diteur externe sur Windows",placeholder:"C:\\Program Files\\Adobe\\Adobe Photoshop 2025\\Photoshop.exe"},confirmDelete:{name:"Confirmer avant suppression",desc:"Afficher la bo\xEEte de dialogue de confirmation avant de supprimer les fichiers"},debugMode:{name:"Mode d\xE9bogage",desc:"Activer l'enregistrement de d\xE9bogage dans la console"}}},modals:{rename:{title:"Renommer l'image",renameButton:"Renommer",cancelButton:"Annuler"},delete:{title:"Supprimer l'image",confirmMessage:'\xCAtes-vous s\xFBr de vouloir supprimer "{filename}" ?',warningMessage:"Cela supprimera \xE0 la fois le fichier image et tous les liens vers celui-ci dans le document actuel.",deleteButton:"Supprimer",cancelButton:"Annuler"}},actions:{performAction:"effectuer l'action",openInNewTab:"ouvrir l'image dans un nouvel onglet",openInDefaultApp:"ouvrir l'image avec l'application par d\xE9faut",openInEditor:"ouvrir l'image dans {editor}"}};var K={menu:{remoteImage:"\u30EA\u30E2\u30FC\u30C8\u753B\u50CF",copyImageUrl:"\u753B\u50CFURL\u3092\u30B3\u30D4\u30FC",copyImage:"\u753B\u50CF\u3092\u30B3\u30D4\u30FC",copyLocalPath:"\u30ED\u30FC\u30AB\u30EB\u30D1\u30B9\u3092\u30B3\u30D4\u30FC",resizeTo:"{size}\u306B\u30EA\u30B5\u30A4\u30BA",removeCustomSize:"\u30AB\u30B9\u30BF\u30E0\u30B5\u30A4\u30BA\u3092\u524A\u9664",showInFinder:"Show in Finder",showInExplorer:"\u30A8\u30AF\u30B9\u30D7\u30ED\u30FC\u30E9\u30FC\u3067\u8868\u793A",renameImage:"\u753B\u50CF\u540D\u3092\u5909\u66F4",deleteImageAndLink:"\u753B\u50CF\u3068\u30EA\u30F3\u30AF\u3092\u524A\u9664",openInNewTab:"\u65B0\u3057\u3044\u30BF\u30D6\u3067\u958B\u304F",openInDefaultApp:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30A2\u30D7\u30EA\u3067\u958B\u304F",openInEditor:"{editor}\u3067\u958B\u304F"},notices:{imageUrlCopied:"\u753B\u50CFURL\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F",imageCopied:"\u753B\u50CF\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F",filePathCopied:"\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F",customSizeRemoved:"\u753B\u50CF\u304B\u3089\u30AB\u30B9\u30BF\u30E0\u30B5\u30A4\u30BA\u3092\u524A\u9664\u3057\u307E\u3057\u305F",imageRenamed:"\u753B\u50CF\u540D\u3092\u6B63\u5E38\u306B\u5909\u66F4\u3057\u307E\u3057\u305F",imageAndLinksDeleted:"\u753B\u50CF\u3068\u30EA\u30F3\u30AF\u3092\u6B63\u5E38\u306B\u524A\u9664\u3057\u307E\u3057\u305F",imageDeleted:"\u753B\u50CF\u3092\u6B63\u5E38\u306B\u524A\u9664\u3057\u307E\u3057\u305F",couldNotReadDimensions:"\u753B\u50CF\u306E\u5BF8\u6CD5\u3092\u8AAD\u307F\u53D6\u308C\u307E\u305B\u3093\u3067\u3057\u305F",cannotCopyPath:"\u30D1\u30B9\u3092\u30B3\u30D4\u30FC\u3067\u304D\u307E\u305B\u3093 - \u30D5\u30A1\u30A4\u30EB\u30B7\u30B9\u30C6\u30E0\u30A2\u30C0\u30D7\u30BF\u30FC\u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u305B\u3093",couldNotLocateImage:"\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F",setEditorPath:"Pixel Perfect Image\u8A2D\u5B9A\u3067{editor}\u306E\u30D1\u30B9\u3092\u8A2D\u5B9A\u3057\u3066\u304F\u3060\u3055\u3044\u3002",cannotOpenFile:"\u30D5\u30A1\u30A4\u30EB\u3092\u958B\u3051\u307E\u305B\u3093\uFF1A\u3053\u306EVault\u306F\u6A19\u6E96\u4EE5\u5916\u306E\u30B9\u30C8\u30EC\u30FC\u30B8\u30B7\u30B9\u30C6\u30E0\u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u3059",couldNotOpenInEditor:"{editor}\u3067\u30D5\u30A1\u30A4\u30EB\u3092\u958B\u3051\u307E\u305B\u3093\u3067\u3057\u305F\u3002",failedToRename:"\u753B\u50CF\u540D\u306E\u5909\u66F4\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToDelete:"\u753B\u50CF\u3068\u30EA\u30F3\u30AF\u306E\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F",clickInEditorFirst:"\u6700\u521D\u306B\u30A8\u30C7\u30A3\u30BF\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u304B\u3089\u3001\u3082\u3046\u4E00\u5EA6\u30B3\u30D4\u30FC\u3057\u3066\u304F\u3060\u3055\u3044",failedToResize:"\u753B\u50CF\u306E\u30EA\u30B5\u30A4\u30BA\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToPerformAction:"{action}\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToCopyUrl:"\u753B\u50CFURL\u306E\u30B3\u30D4\u30FC\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToCopyImage:"\u753B\u50CF\u306E\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u3078\u306E\u30B3\u30D4\u30FC\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToCopyPath:"\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9\u306E\u30B3\u30D4\u30FC\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToResizeTo:"\u753B\u50CF\u306E{size}\u3078\u306E\u30EA\u30B5\u30A4\u30BA\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToRemoveSize:"\u753B\u50CF\u304B\u3089\u30AB\u30B9\u30BF\u30E0\u30B5\u30A4\u30BA\u306E\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToOpenExplorer:"\u30B7\u30B9\u30C6\u30E0\u30A8\u30AF\u30B9\u30D7\u30ED\u30FC\u30E9\u30FC\u306E\u8D77\u52D5\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToRenameImage:"\u753B\u50CF\u540D\u306E\u5909\u66F4\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToDeleteImage:"\u753B\u50CF\u306E\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToOpenInNewTab:"\u65B0\u3057\u3044\u30BF\u30D6\u3067\u753B\u50CF\u3092\u958B\u304F\u306E\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToOpenInDefaultApp:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30A2\u30D7\u30EA\u3067\u958B\u304F\u306E\u306B\u5931\u6557\u3057\u307E\u3057\u305F",failedToOpenInEditor:"{editor}\u3067\u753B\u50CF\u3092\u958B\u304F\u306E\u306B\u5931\u6557\u3057\u307E\u3057\u305F"},settings:{headings:{menuOptions:"\u500B\u5225\u30E1\u30CB\u30E5\u30FC\u30AA\u30D7\u30B7\u30E7\u30F3\u306E\u5207\u308A\u66FF\u3048",mousewheelZoom:"\u30DE\u30A6\u30B9\u30DB\u30A4\u30FC\u30EB\u30BA\u30FC\u30E0",externalEditor:"\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC",advanced:"\u9AD8\u5EA6\u306A\u8A2D\u5B9A"},items:{fileInfo:{name:"\u30D5\u30A1\u30A4\u30EB\u60C5\u5831",desc:"\u30E1\u30CB\u30E5\u30FC\u306E\u4E0A\u90E8\u306B\u30D5\u30A1\u30A4\u30EB\u540D\u3068\u30B5\u30A4\u30BA\u3092\u8868\u793A\u3057\u307E\u3059"},showInExplorer:{name:"Show in Finder/\u30A8\u30AF\u30B9\u30D7\u30ED\u30FC\u30E9\u30FC",desc:"\u30B7\u30B9\u30C6\u30E0\u30D5\u30A1\u30A4\u30EB\u30A8\u30AF\u30B9\u30D7\u30ED\u30FC\u30E9\u30FC\u3067\u753B\u50CF\u3092\u8868\u793A\u3059\u308B\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8868\u793A\u3057\u307E\u3059"},renameImage:{name:"\u753B\u50CF\u540D\u3092\u5909\u66F4",desc:"\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u540D\u3092\u5909\u66F4\u3059\u308B\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8868\u793A\u3057\u307E\u3059"},deleteImage:{name:"\u753B\u50CF\u3068\u30EA\u30F3\u30AF\u3092\u524A\u9664",desc:"\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u3068\u30EA\u30F3\u30AF\u306E\u4E21\u65B9\u3092\u524A\u9664\u3059\u308B\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8868\u793A\u3057\u307E\u3059"},openInNewTab:{name:"\u65B0\u3057\u3044\u30BF\u30D6\u3067\u958B\u304F",desc:"\u753B\u50CF\u3092\u65B0\u3057\u3044\u30BF\u30D6\u3067\u958B\u304F\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8868\u793A\u3057\u307E\u3059"},openInDefaultApp:{name:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30A2\u30D7\u30EA\u3067\u958B\u304F",desc:"\u753B\u50CF\u3092\u30C7\u30D5\u30A9\u30EB\u30C8\u30A2\u30D7\u30EA\u3067\u958B\u304F\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8868\u793A\u3057\u307E\u3059"},resizeOptions:{name:"\u30EA\u30B5\u30A4\u30BA\u30AA\u30D7\u30B7\u30E7\u30F3",desc:"\u30EA\u30B5\u30A4\u30BA\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8A2D\u5B9A\u3057\u307E\u3059\uFF08\u30AB\u30F3\u30DE\u533A\u5207\u308A\uFF09\u3002\u30D1\u30FC\u30BB\u30F3\u30C6\u30FC\u30B8\u306B\u306F%\u3092\u4F7F\u7528\u3057\uFF08\u4F8B\uFF1A25%\u300150%\uFF09\u3001\u30D4\u30AF\u30BB\u30EB\u306B\u306Fpx\u3092\u4F7F\u7528\u3057\u307E\u3059\uFF08\u4F8B\uFF1A600px\u3001800px\uFF09",placeholder:"\u4F8B\uFF1A25%\u300150%\u3001100%\u3001600px"},cmdClickBehavior:{name:"{cmd} + \u30AF\u30EA\u30C3\u30AF\u306E\u52D5\u4F5C",desc:"\u753B\u50CF\u3092{cmd} + \u30AF\u30EA\u30C3\u30AF\u3057\u305F\u3068\u304D\u306E\u52D5\u4F5C\u3092\u9078\u629E\u3057\u307E\u3059",options:{doNothing:"\u4F55\u3082\u3057\u306A\u3044",openInNewTab:"\u65B0\u3057\u3044\u30BF\u30D6\u3067\u958B\u304F",openInDefaultApp:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30A2\u30D7\u30EA\u3067\u958B\u304F",openInEditor:"{editor}\u3067\u958B\u304F"}},enableWheelZoom:{name:"\u30DE\u30A6\u30B9\u30DB\u30A4\u30FC\u30EB\u30BA\u30FC\u30E0\u3092\u6709\u52B9\u306B\u3059\u308B",desc:"\u4FEE\u98FE\u30AD\u30FC\u3092\u62BC\u3057\u306A\u304C\u3089\u30B9\u30AF\u30ED\u30FC\u30EB\u3057\u3066\u753B\u50CF\u3092\u30EA\u30B5\u30A4\u30BA\u3057\u307E\u3059"},modifierKey:{name:"\u4FEE\u98FE\u30AD\u30FC",desc:"\u753B\u50CF\u3092\u30BA\u30FC\u30E0\u3059\u308B\u305F\u3081\u306B\u30B9\u30AF\u30ED\u30FC\u30EB\u6642\u306B\u62BC\u3059\u5FC5\u8981\u304C\u3042\u308B\u30AD\u30FC",options:{alt:"Alt",option:"Option",ctrl:"Ctrl",shift:"Shift"}},zoomStepSize:{name:"\u30BA\u30FC\u30E0\u30B9\u30C6\u30C3\u30D7\u30B5\u30A4\u30BA",desc:"\u30B9\u30AF\u30ED\u30FC\u30EB\u30B9\u30C6\u30C3\u30D7\u3054\u3068\u306E\u30BA\u30FC\u30E0\u7387",resetToDefault:"\u30C7\u30D5\u30A9\u30EB\u30C8\u306B\u30EA\u30BB\u30C3\u30C8"},invertScroll:{name:"\u30B9\u30AF\u30ED\u30FC\u30EB\u65B9\u5411\u3092\u53CD\u8EE2",desc:"\u30B9\u30AF\u30ED\u30FC\u30EB\u6642\u306E\u30BA\u30FC\u30E0\u65B9\u5411\u3092\u53CD\u8EE2\u3057\u307E\u3059"},externalEditorName:{name:"\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC\u540D",desc:"\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC\u306E\u540D\u524D\uFF08\u4F8B\uFF1APhotoshop\uFF09",placeholder:"Photoshop"},externalEditorPathMac:{name:"\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC\u30D1\u30B9\uFF08macOS\uFF09",desc:"macOS\u4E0A\u306E\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3078\u306E\u30D5\u30EB\u30D1\u30B9",placeholder:"/Applications/Adobe Photoshop 2025/Adobe Photoshop 2025.app"},externalEditorPathWin:{name:"\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC\u30D1\u30B9\uFF08Windows\uFF09",desc:"Windows\u4E0A\u306E\u5916\u90E8\u30A8\u30C7\u30A3\u30BF\u30FC\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3078\u306E\u30D5\u30EB\u30D1\u30B9",placeholder:"C:\\Program Files\\Adobe\\Adobe Photoshop 2025\\Photoshop.exe"},confirmDelete:{name:"\u524A\u9664\u524D\u306B\u78BA\u8A8D",desc:"\u30D5\u30A1\u30A4\u30EB\u524A\u9664\u524D\u306B\u78BA\u8A8D\u30C0\u30A4\u30A2\u30ED\u30B0\u3092\u8868\u793A\u3057\u307E\u3059"},debugMode:{name:"\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9",desc:"\u30B3\u30F3\u30BD\u30FC\u30EB\u306B\u30C7\u30D0\u30C3\u30B0\u30ED\u30B0\u3092\u51FA\u529B\u3057\u307E\u3059"}}},modals:{rename:{title:"\u753B\u50CF\u540D\u3092\u5909\u66F4",renameButton:"\u5909\u66F4",cancelButton:"\u30AD\u30E3\u30F3\u30BB\u30EB"},delete:{title:"\u753B\u50CF\u3092\u524A\u9664",confirmMessage:'"{filename}"\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F',warningMessage:"\u3053\u308C\u306B\u3088\u308A\u3001\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u3068\u73FE\u5728\u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u5185\u306E\u3059\u3079\u3066\u306E\u30EA\u30F3\u30AF\u304C\u524A\u9664\u3055\u308C\u307E\u3059\u3002",deleteButton:"\u524A\u9664",cancelButton:"\u30AD\u30E3\u30F3\u30BB\u30EB"}},actions:{performAction:"\u30A2\u30AF\u30B7\u30E7\u30F3\u3092\u5B9F\u884C",openInNewTab:"\u65B0\u3057\u3044\u30BF\u30D6\u3067\u753B\u50CF\u3092\u958B\u304F",openInDefaultApp:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30A2\u30D7\u30EA\u3067\u753B\u50CF\u3092\u958B\u304F",openInEditor:"{editor}\u3067\u753B\u50CF\u3092\u958B\u304F"}};var H={menu:{remoteImage:"\u8FDC\u7A0B\u56FE\u50CF",copyImageUrl:"\u590D\u5236\u56FE\u50CFURL",copyImage:"\u590D\u5236\u56FE\u50CF",copyLocalPath:"\u590D\u5236\u672C\u5730\u8DEF\u5F84",resizeTo:"\u8C03\u6574\u5927\u5C0F\u5230{size}",removeCustomSize:"\u79FB\u9664\u81EA\u5B9A\u4E49\u5C3A\u5BF8",showInFinder:"Show in Finder",showInExplorer:"\u5728\u8D44\u6E90\u7BA1\u7406\u5668\u4E2D\u663E\u793A",renameImage:"\u91CD\u547D\u540D\u56FE\u50CF",deleteImageAndLink:"\u5220\u9664\u56FE\u50CF\u548C\u94FE\u63A5",openInNewTab:"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00",openInDefaultApp:"\u7528\u9ED8\u8BA4\u5E94\u7528\u6253\u5F00",openInEditor:"\u5728{editor}\u4E2D\u6253\u5F00"},notices:{imageUrlCopied:"\u56FE\u50CFURL\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",imageCopied:"\u56FE\u50CF\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",filePathCopied:"\u6587\u4EF6\u8DEF\u5F84\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",customSizeRemoved:"\u5DF2\u4ECE\u56FE\u50CF\u4E2D\u79FB\u9664\u81EA\u5B9A\u4E49\u5C3A\u5BF8",imageRenamed:"\u56FE\u50CF\u91CD\u547D\u540D\u6210\u529F",imageAndLinksDeleted:"\u56FE\u50CF\u548C\u94FE\u63A5\u5220\u9664\u6210\u529F",imageDeleted:"\u56FE\u50CF\u5220\u9664\u6210\u529F",couldNotReadDimensions:"\u65E0\u6CD5\u8BFB\u53D6\u56FE\u50CF\u5C3A\u5BF8",cannotCopyPath:"\u65E0\u6CD5\u590D\u5236\u8DEF\u5F84 - \u672A\u4F7F\u7528\u6587\u4EF6\u7CFB\u7EDF\u9002\u914D\u5668",couldNotLocateImage:"\u65E0\u6CD5\u627E\u5230\u56FE\u50CF\u6587\u4EF6",setEditorPath:"\u8BF7\u5728Pixel Perfect Image\u8BBE\u7F6E\u4E2D\u8BBE\u7F6E\u60A8\u7684{editor}\u8DEF\u5F84\u3002",cannotOpenFile:"\u65E0\u6CD5\u6253\u5F00\u6587\u4EF6\uFF1A\u6B64\u4FDD\u7BA1\u5E93\u4F7F\u7528\u975E\u6807\u51C6\u5B58\u50A8\u7CFB\u7EDF",couldNotOpenInEditor:"\u65E0\u6CD5\u5728{editor}\u4E2D\u6253\u5F00\u6587\u4EF6\u3002",failedToRename:"\u91CD\u547D\u540D\u56FE\u50CF\u5931\u8D25",failedToDelete:"\u5220\u9664\u56FE\u50CF\u548C\u94FE\u63A5\u5931\u8D25",clickInEditorFirst:"\u8BF7\u5148\u70B9\u51FB\u7F16\u8F91\u5668\uFF0C\u7136\u540E\u518D\u6B21\u5C1D\u8BD5\u590D\u5236",failedToResize:"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F\u5931\u8D25",failedToPerformAction:"{action}\u5931\u8D25",failedToCopyUrl:"\u590D\u5236\u56FE\u50CFURL\u5931\u8D25",failedToCopyImage:"\u590D\u5236\u56FE\u50CF\u5230\u526A\u8D34\u677F\u5931\u8D25",failedToCopyPath:"\u590D\u5236\u6587\u4EF6\u8DEF\u5F84\u5931\u8D25",failedToResizeTo:"\u5C06\u56FE\u50CF\u8C03\u6574\u5230{size}\u5931\u8D25",failedToRemoveSize:"\u4ECE\u56FE\u50CF\u4E2D\u79FB\u9664\u81EA\u5B9A\u4E49\u5C3A\u5BF8\u5931\u8D25",failedToOpenExplorer:"\u6253\u5F00\u7CFB\u7EDF\u8D44\u6E90\u7BA1\u7406\u5668\u5931\u8D25",failedToRenameImage:"\u91CD\u547D\u540D\u56FE\u50CF\u5931\u8D25",failedToDeleteImage:"\u5220\u9664\u56FE\u50CF\u5931\u8D25",failedToOpenInNewTab:"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u56FE\u50CF\u5931\u8D25",failedToOpenInDefaultApp:"\u7528\u9ED8\u8BA4\u5E94\u7528\u6253\u5F00\u5931\u8D25",failedToOpenInEditor:"\u5728{editor}\u4E2D\u6253\u5F00\u56FE\u50CF\u5931\u8D25"},settings:{headings:{menuOptions:"\u5207\u6362\u5355\u4E2A\u83DC\u5355\u9009\u9879",mousewheelZoom:"\u9F20\u6807\u6EDA\u8F6E\u7F29\u653E",externalEditor:"\u5916\u90E8\u7F16\u8F91\u5668",advanced:"\u9AD8\u7EA7"},items:{fileInfo:{name:"\u6587\u4EF6\u4FE1\u606F",desc:"\u5728\u83DC\u5355\u9876\u90E8\u663E\u793A\u6587\u4EF6\u540D\u548C\u5C3A\u5BF8"},showInExplorer:{name:"Show in Finder/\u8D44\u6E90\u7BA1\u7406\u5668",desc:"\u663E\u793A\u5728\u7CFB\u7EDF\u6587\u4EF6\u8D44\u6E90\u7BA1\u7406\u5668\u4E2D\u663E\u793A\u56FE\u50CF\u7684\u9009\u9879"},renameImage:{name:"\u91CD\u547D\u540D\u56FE\u50CF",desc:"\u663E\u793A\u91CD\u547D\u540D\u56FE\u50CF\u6587\u4EF6\u7684\u9009\u9879"},deleteImage:{name:"\u5220\u9664\u56FE\u50CF\u548C\u94FE\u63A5",desc:"\u663E\u793A\u5220\u9664\u56FE\u50CF\u6587\u4EF6\u548C\u94FE\u63A5\u7684\u9009\u9879"},openInNewTab:{name:"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00",desc:"\u663E\u793A\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u56FE\u50CF\u7684\u9009\u9879"},openInDefaultApp:{name:"\u7528\u9ED8\u8BA4\u5E94\u7528\u6253\u5F00",desc:"\u663E\u793A\u7528\u9ED8\u8BA4\u5E94\u7528\u6253\u5F00\u56FE\u50CF\u7684\u9009\u9879"},resizeOptions:{name:"\u8C03\u6574\u5927\u5C0F\u9009\u9879",desc:"\u8BBE\u7F6E\u8C03\u6574\u5927\u5C0F\u9009\u9879\uFF08\u7528\u9017\u53F7\u5206\u9694\uFF09\u3002\u4F7F\u7528%\u8868\u793A\u767E\u5206\u6BD4\uFF08\u4F8B\u5982\uFF1A25%\u300150%\uFF09\u6216px\u8868\u793A\u50CF\u7D20\uFF08\u4F8B\u5982\uFF1A600px\u3001800px\uFF09",placeholder:"\u4F8B\u5982\uFF1A25%\u300150%\u3001100%\u3001600px"},cmdClickBehavior:{name:"{cmd} + \u70B9\u51FB\u884C\u4E3A",desc:"\u9009\u62E9{cmd} + \u70B9\u51FB\u56FE\u50CF\u65F6\u7684\u884C\u4E3A",options:{doNothing:"\u4EC0\u4E48\u90FD\u4E0D\u505A",openInNewTab:"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00",openInDefaultApp:"\u7528\u9ED8\u8BA4\u5E94\u7528\u6253\u5F00",openInEditor:"\u5728{editor}\u4E2D\u6253\u5F00"}},enableWheelZoom:{name:"\u542F\u7528\u9F20\u6807\u6EDA\u8F6E\u7F29\u653E",desc:"\u6309\u4F4F\u4FEE\u9970\u952E\u5E76\u6EDA\u52A8\u4EE5\u8C03\u6574\u56FE\u50CF\u5927\u5C0F"},modifierKey:{name:"\u4FEE\u9970\u952E",desc:"\u6EDA\u52A8\u7F29\u653E\u56FE\u50CF\u65F6\u9700\u8981\u6309\u4F4F\u7684\u952E",options:{alt:"Alt",option:"Option",ctrl:"Ctrl",shift:"Shift"}},zoomStepSize:{name:"\u7F29\u653E\u6B65\u957F",desc:"\u6BCF\u6B21\u6EDA\u52A8\u6B65\u957F\u7684\u7F29\u653E\u767E\u5206\u6BD4",resetToDefault:"\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u503C"},invertScroll:{name:"\u53CD\u8F6C\u6EDA\u52A8\u65B9\u5411",desc:"\u53CD\u8F6C\u6EDA\u52A8\u65F6\u7684\u7F29\u653E\u65B9\u5411"},externalEditorName:{name:"\u5916\u90E8\u7F16\u8F91\u5668\u540D\u79F0",desc:"\u60A8\u7684\u5916\u90E8\u7F16\u8F91\u5668\u540D\u79F0\uFF08\u4F8B\u5982\uFF1APhotoshop\uFF09",placeholder:"Photoshop"},externalEditorPathMac:{name:"\u5916\u90E8\u7F16\u8F91\u5668\u8DEF\u5F84\uFF08macOS\uFF09",desc:"macOS\u4E0A\u5916\u90E8\u7F16\u8F91\u5668\u5E94\u7528\u7A0B\u5E8F\u7684\u5B8C\u6574\u8DEF\u5F84",placeholder:"/Applications/Adobe Photoshop 2025/Adobe Photoshop 2025.app"},externalEditorPathWin:{name:"\u5916\u90E8\u7F16\u8F91\u5668\u8DEF\u5F84\uFF08Windows\uFF09",desc:"Windows\u4E0A\u5916\u90E8\u7F16\u8F91\u5668\u5E94\u7528\u7A0B\u5E8F\u7684\u5B8C\u6574\u8DEF\u5F84",placeholder:"C:\\Program Files\\Adobe\\Adobe Photoshop 2025\\Photoshop.exe"},confirmDelete:{name:"\u5220\u9664\u524D\u786E\u8BA4",desc:"\u5220\u9664\u6587\u4EF6\u524D\u663E\u793A\u786E\u8BA4\u5BF9\u8BDD\u6846"},debugMode:{name:"\u8C03\u8BD5\u6A21\u5F0F",desc:"\u5728\u63A7\u5236\u53F0\u4E2D\u542F\u7528\u8C03\u8BD5\u65E5\u5FD7"}}},modals:{rename:{title:"\u91CD\u547D\u540D\u56FE\u50CF",renameButton:"\u91CD\u547D\u540D",cancelButton:"\u53D6\u6D88"},delete:{title:"\u5220\u9664\u56FE\u50CF",confirmMessage:'\u60A8\u786E\u5B9A\u8981\u5220\u9664"{filename}"\u5417\uFF1F',warningMessage:"\u8FD9\u5C06\u5220\u9664\u56FE\u50CF\u6587\u4EF6\u4EE5\u53CA\u5F53\u524D\u6587\u6863\u4E2D\u6240\u6709\u6307\u5411\u5B83\u7684\u94FE\u63A5\u3002",deleteButton:"\u5220\u9664",cancelButton:"\u53D6\u6D88"}},actions:{performAction:"\u6267\u884C\u64CD\u4F5C",openInNewTab:"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u56FE\u50CF",openInDefaultApp:"\u7528\u9ED8\u8BA4\u5E94\u7528\u6253\u5F00\u56FE\u50CF",openInEditor:"\u5728{editor}\u4E2D\u6253\u5F00\u56FE\u50CF"}};var V={en:L,de:B,es:W,fr:U,ja:K,zh:H};function ae(){return(0,Z.getLanguage)()}function oe(){let d=ae();return d&&d in V?d:"en"}var o=V[oe()];var R={toggleIndividualMenuOptions:!1,showFileInfo:!0,showShowInFileExplorer:!0,showRenameOption:!0,showDeleteImageOption:!0,showOpenInNewTab:!0,showOpenInDefaultApp:!0,customResizeSizes:["25%","50%","100%"],cmdCtrlClickBehavior:"do-nothing",enableWheelZoom:!0,wheelModifierKey:"Alt",wheelZoomPercentage:20,invertScrollDirection:!1,externalEditorName:"",externalEditorPathMac:"",externalEditorPathWin:"",confirmBeforeDelete:!0,debugMode:!1};function y(d){return c.Platform.isMacOS?d.externalEditorPathMac:d.externalEditorPathWin}var x=class extends c.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}setElementVisibility(e,t){e.style.display=t?"block":"none"}async display(){let{containerEl:e}=this;e.empty(),new c.Setting(e).setName(o.settings.headings.menuOptions).setDesc("Show settings to toggle individual menu items").addToggle(i=>i.setValue(this.plugin.settings.toggleIndividualMenuOptions).onChange(async a=>{this.plugin.settings.toggleIndividualMenuOptions=a,await this.plugin.saveSettings(),this.setElementVisibility(t,a)}));let t=e.createDiv("pixel-perfect-sub-settings");new c.Setting(t).setName(o.settings.items.fileInfo.name).setDesc(o.settings.items.fileInfo.desc).addToggle(i=>{i.setValue(this.plugin.settings.showFileInfo).onChange(async a=>{this.plugin.settings.showFileInfo=a,await this.plugin.saveSettings()})}),new c.Setting(t).setName(o.settings.items.showInExplorer.name).setDesc(o.settings.items.showInExplorer.desc).addToggle(i=>i.setValue(this.plugin.settings.showShowInFileExplorer).onChange(async a=>{this.plugin.settings.showShowInFileExplorer=a,await this.plugin.saveSettings()})),new c.Setting(t).setName(o.settings.items.renameImage.name).setDesc(o.settings.items.renameImage.desc).addToggle(i=>i.setValue(this.plugin.settings.showRenameOption).onChange(async a=>{this.plugin.settings.showRenameOption=a,await this.plugin.saveSettings()})),new c.Setting(t).setName(o.settings.items.deleteImage.name).setDesc(o.settings.items.deleteImage.desc).addToggle(i=>i.setValue(this.plugin.settings.showDeleteImageOption).onChange(async a=>{this.plugin.settings.showDeleteImageOption=a,await this.plugin.saveSettings()})),new c.Setting(t).setName(o.settings.items.openInNewTab.name).setDesc(o.settings.items.openInNewTab.desc).addToggle(i=>i.setValue(this.plugin.settings.showOpenInNewTab).onChange(async a=>{this.plugin.settings.showOpenInNewTab=a,await this.plugin.saveSettings()})),new c.Setting(t).setName(o.settings.items.openInDefaultApp.name).setDesc(o.settings.items.openInDefaultApp.desc).addToggle(i=>i.setValue(this.plugin.settings.showOpenInDefaultApp).onChange(async a=>{this.plugin.settings.showOpenInDefaultApp=a,await this.plugin.saveSettings()})),new c.Setting(e).setName(o.settings.items.resizeOptions.name).setDesc(o.settings.items.resizeOptions.desc).addText(i=>{i.setPlaceholder(o.settings.items.resizeOptions.placeholder).setValue(this.plugin.settings.customResizeSizes.join(", ")).onChange(async a=>{let r=a.split(",").map(s=>s.trim()).filter(s=>{let l=s.match(/^(\d+)(px|%)$/);return l&&parseInt(l[1])>0});this.plugin.settings.customResizeSizes=r,await this.plugin.saveSettings()})});let n=c.Platform.isMacOS?"CMD":"CTRL";new c.Setting(e).setName(o.settings.items.cmdClickBehavior.name.replace("{cmd}",n)).setDesc(o.settings.items.cmdClickBehavior.desc.replace("{cmd}",n)).addDropdown(i=>{let a=this.plugin.settings.externalEditorName.trim()||"external editor";i.addOption("do-nothing",o.settings.items.cmdClickBehavior.options.doNothing).addOption("open-in-new-tab",o.settings.items.cmdClickBehavior.options.openInNewTab).addOption("open-in-default-app",o.settings.items.cmdClickBehavior.options.openInDefaultApp).addOption("open-in-external-editor",o.settings.items.cmdClickBehavior.options.openInEditor.replace("{editor}",a)).setValue(this.plugin.settings.cmdCtrlClickBehavior).onChange(async r=>{this.plugin.settings.cmdCtrlClickBehavior=r,await this.plugin.saveSettings()})}),new c.Setting(e).setName(o.settings.headings.mousewheelZoom).setHeading(),new c.Setting(e).setName(o.settings.items.enableWheelZoom.name).setDesc(o.settings.items.enableWheelZoom.desc).addToggle(i=>{i.setValue(this.plugin.settings.enableWheelZoom).onChange(async a=>{this.plugin.settings.enableWheelZoom=a,await this.plugin.saveSettings()})}),new c.Setting(e).setName(o.settings.items.modifierKey.name).setDesc(o.settings.items.modifierKey.desc).addDropdown(i=>{let a=c.Platform.isMacOS;i.addOption("Alt",a?o.settings.items.modifierKey.options.option:o.settings.items.modifierKey.options.alt).addOption("Ctrl",o.settings.items.modifierKey.options.ctrl).addOption("Shift",o.settings.items.modifierKey.options.shift).setValue(this.plugin.settings.wheelModifierKey).onChange(async r=>{this.plugin.settings.wheelModifierKey=r,await this.plugin.saveSettings()})}),new c.Setting(e).setName(o.settings.items.zoomStepSize.name).setDesc(o.settings.items.zoomStepSize.desc).addExtraButton(i=>{i.setIcon("reset").setTooltip(o.settings.items.zoomStepSize.resetToDefault).onClick(async()=>{this.plugin.settings.wheelZoomPercentage=R.wheelZoomPercentage,await this.plugin.saveSettings(),this.display()})}).addSlider(i=>{var s;let a=createSpan();a.addClass("pixel-perfect-zoom-value");let r=l=>{a.setText(`${l}%`)};i.setDynamicTooltip().setLimits(1,100,1).setValue(this.plugin.settings.wheelZoomPercentage).onChange(async l=>{r(l),this.plugin.settings.wheelZoomPercentage=l,await this.plugin.saveSettings()}),r(this.plugin.settings.wheelZoomPercentage),(s=i.sliderEl.parentElement)==null||s.prepend(a)}),new c.Setting(e).setName(o.settings.items.invertScroll.name).setDesc(o.settings.items.invertScroll.desc).addToggle(i=>{i.setValue(this.plugin.settings.invertScrollDirection).onChange(async a=>{this.plugin.settings.invertScrollDirection=a,await this.plugin.saveSettings()})}),new c.Setting(e).setName(o.settings.headings.externalEditor).setHeading(),new c.Setting(e).setName(o.settings.items.externalEditorName.name).setDesc(o.settings.items.externalEditorName.desc).addText(i=>{i.setPlaceholder(o.settings.items.externalEditorName.placeholder).setValue(this.plugin.settings.externalEditorName).onChange(async a=>{this.plugin.settings.externalEditorName=a,await this.plugin.saveSettings()})}),c.Platform.isMacOS&&new c.Setting(e).setName(o.settings.items.externalEditorPathMac.name).setDesc(o.settings.items.externalEditorPathMac.desc).addText(i=>{i.setPlaceholder(o.settings.items.externalEditorPathMac.placeholder).setValue(this.plugin.settings.externalEditorPathMac).onChange(async a=>{let r=a.replace(/\\ /g," ");this.plugin.settings.externalEditorPathMac=r,await this.plugin.saveSettings()})}),c.Platform.isWin&&new c.Setting(e).setName(o.settings.items.externalEditorPathWin.name).setDesc(o.settings.items.externalEditorPathWin.desc).addText(i=>{i.setPlaceholder(o.settings.items.externalEditorPathWin.placeholder).setValue(this.plugin.settings.externalEditorPathWin).onChange(async a=>{let r=a.replace(/\\ /g," ");this.plugin.settings.externalEditorPathWin=r,await this.plugin.saveSettings()})}),new c.Setting(e).setName(o.settings.headings.advanced).setHeading(),new c.Setting(e).setName(o.settings.items.confirmDelete.name).setDesc(o.settings.items.confirmDelete.desc).addToggle(i=>i.setValue(this.plugin.settings.confirmBeforeDelete).onChange(async a=>{this.plugin.settings.confirmBeforeDelete=a,await this.plugin.saveSettings()})),new c.Setting(e).setName(o.settings.items.debugMode.name).setDesc(o.settings.items.debugMode.desc).addToggle(i=>{i.setValue(this.plugin.settings.debugMode).onChange(async a=>{this.plugin.settings.debugMode=a,await this.plugin.saveSettings()})}),this.setElementVisibility(t,this.plugin.settings.toggleIndividualMenuOptions)}};var b=require("obsidian");function w(d){return!d||!(d instanceof HTMLElement)?null:d instanceof HTMLImageElement?d:d.matches('.image-container, .image-embed, img, a.internal-embed[src*=".png"], a.internal-embed[src*=".jpg"], a.internal-embed[src*=".jpeg"], a.internal-embed[src*=".gif"], a.internal-embed[src*=".webp"], a.internal-embed[src*=".svg"]')?d.querySelector("img"):null}function G(d){let e=d.src||"";return e.startsWith("http://")||e.startsWith("https://")}function h(...d){let e=new Date().toTimeString().split(" ")[0];console.error(`${e}`,...d)}var P=class{constructor(e){this.isModifierKeyHeld=!1;this.wheelEventCleanup=null;this.plugin=e}setModifierKeyState(e){this.isModifierKeyHeld=e}registerWheelEvents(e){this.wheelEventCleanup&&(this.wheelEventCleanup(),this.wheelEventCleanup=null);let t=e.document,n=l=>{this.isModifierKeyMatch(l)&&this.setModifierKeyState(!0)},i=l=>{this.isModifierKeyMatch(l)&&this.setModifierKeyState(!1)},a=()=>{this.isModifierKeyHeld&&this.setModifierKeyState(!1)},r=async l=>{if(!this.plugin.settings.enableWheelZoom||!this.isModifierKeyHeld)return;if(!this.isModifierKeyStillHeld(l)){this.setModifierKeyState(!1);return}let m=w(l.target);if(m){l.preventDefault();try{await this.handleImageWheel(l,m)}catch(p){h("Error handling wheel event:",p),new b.Notice(o.notices.failedToResize)}}};this.plugin.registerDomEvent(t,"keydown",n),this.plugin.registerDomEvent(t,"keyup",i),this.plugin.registerDomEvent(window,"blur",a);let s=new AbortController;t.addEventListener("wheel",r,{passive:!1,signal:s.signal}),this.plugin.register(()=>s.abort()),this.wheelEventCleanup=()=>{s.abort()}}isModifierKeyMatch(e){let t=this.plugin.settings.wheelModifierKey.toLowerCase(),n=e.key.toLowerCase();switch(t){case"alt":return n==="alt"||n==="option";case"ctrl":return n==="ctrl"||n==="control";case"shift":return n==="shift";default:return!1}}isModifierKeyStillHeld(e){switch(this.plugin.settings.wheelModifierKey.toLowerCase()){case"alt":return e.altKey;case"ctrl":return e.ctrlKey;case"shift":return e.shiftKey;default:return!1}}async handleImageWheel(e,t){if(!this.plugin.settings.enableWheelZoom)return;let n=this.plugin.app.workspace.getActiveViewOfType(b.MarkdownView);if(!(n!=null&&n.file))return;let i=await this.plugin.fileService.getImageFileWithErrorHandling(t);if(!i)return;let{width:a}=await this.plugin.imageService.readImageDimensions(i.imgFile),r=this.plugin.imageService.getCurrentImageWidth(i.activeFile,i.imgFile),s=r!=null?r:a,l=Math.min(1,Math.abs(e.deltaY)/10),m=Math.max(1,Math.round(s*(this.plugin.settings.wheelZoomPercentage/100)*l)),p=e.deltaY<0,f=(this.plugin.settings.invertScrollDirection?!p:p)?s+m:Math.max(1,s-m);f!==s&&await this.plugin.imageService.updateImageLinkWidth(i.imgFile,f)}handleImageClick(e){if(!(e.metaKey||e.ctrlKey))return;let t=w(e.target);t&&this.plugin.settings.cmdCtrlClickBehavior!=="do-nothing"&&(e.preventDefault(),this.plugin.fileService.getImageFileWithErrorHandling(t).then(n=>{n&&(this.plugin.settings.cmdCtrlClickBehavior==="open-in-new-tab"?this.plugin.app.workspace.openLinkText(n.imgFile.path,"",!0):this.plugin.settings.cmdCtrlClickBehavior==="open-in-default-app"?this.plugin.fileService.openInDefaultApp(n.imgFile):this.plugin.settings.cmdCtrlClickBehavior==="open-in-external-editor"&&this.plugin.fileService.openInExternalEditor(n.imgFile.path))}).catch(n=>{let i=o.actions.performAction;if(this.plugin.settings.cmdCtrlClickBehavior==="open-in-new-tab")i=o.actions.openInNewTab;else if(this.plugin.settings.cmdCtrlClickBehavior==="open-in-default-app")i=o.actions.openInDefaultApp;else if(this.plugin.settings.cmdCtrlClickBehavior==="open-in-external-editor"){let a=this.plugin.settings.externalEditorName.trim()||"external editor";i=o.actions.openInEditor.replace("{editor}",a)}h(`Failed to ${i}:`,n),new b.Notice(o.notices.failedToPerformAction.replace("{action}",i))}))}registerEvents(){this.plugin.registerDomEvent(document,"click",e=>this.handleImageClick(e)),this.plugin.registerEvent(this.plugin.app.workspace.on("layout-change",()=>this.registerWheelEvents(window))),this.registerWheelEvents(window)}cleanup(){this.isModifierKeyHeld=!1,this.wheelEventCleanup&&(this.wheelEventCleanup(),this.wheelEventCleanup=null)}};var g=require("obsidian");var _=require("path");var C=class{constructor(e){this.plugin=e}registerImageContextMenu(){this.plugin.registerDomEvent(document,"contextmenu",this.handleContextMenu.bind(this),!0);let e;this.plugin.registerDomEvent(document,"touchstart",t=>{t.touches.length>1||!w(t.target)||(e=setTimeout(()=>{this.handleContextMenu(t)},500))},!0),this.plugin.registerDomEvent(document,"touchend",()=>{clearTimeout(e)},!0),this.plugin.registerDomEvent(document,"touchmove",()=>{clearTimeout(e)},!0)}async handleContextMenu(e){if("touches"in e&&e.touches.length>1)return;let t=w(e.target);if(!t)return;e.preventDefault();let n=new g.Menu;G(t)?(this.addInfoMenuItem(n,o.menu.remoteImage,"globe"),this.addMenuItem(n,o.menu.copyImageUrl,"link",async()=>{await navigator.clipboard.writeText(t.src),new g.Notice(o.notices.imageUrlCopied)},o.notices.failedToCopyUrl)):(await this.addDimensionsMenuItem(n,t),await this.addResizeMenuItems(n,e),g.Platform.isMobile||(n.addSeparator(),this.addFileOperationMenuItems(n,t)));let a={x:e instanceof MouseEvent?e.pageX:e.touches[0].pageX,y:e instanceof MouseEvent?e.pageY:e.touches[0].pageY};n.showAtPosition(a)}addInfoMenuItem(e,t,n){e.addItem(i=>{i.setTitle(t).setIcon(n).setDisabled(!0)})}async addDimensionsMenuItem(e,t){if(this.plugin.settings.showFileInfo)try{let n=await this.plugin.fileService.getImageFileWithErrorHandling(t);if(!n)return;let{width:i,height:a}=await this.plugin.imageService.readImageDimensions(n.imgFile),r=this.plugin.imageService.calculateImageScale(n.activeFile,n.imgFile,i),s=r!==null?` @ ${r}%`:"";this.addInfoMenuItem(e,`${n.imgFile.name}${s}`,"image-file"),this.addInfoMenuItem(e,`${i} \xD7 ${a} px`,"info")}catch(n){h("Could not read dimensions:",n),new g.Notice(o.notices.couldNotReadDimensions)}}createMenuClickHandler(e,t){return async()=>{try{await e()}catch(n){h(t,n);let i=n instanceof Error?n.message:t;new g.Notice(i)}}}addMenuItem(e,t,n,i,a,r=!1){e.addItem(s=>{s.setTitle(t).setIcon(n).setDisabled(r).onClick(this.createMenuClickHandler(i,a))})}async addResizeMenuItems(e,t){let n=w(t.target);if(!n)return;this.addMenuItem(e,o.menu.copyImage,"copy",async()=>{await this.plugin.imageService.copyImageToClipboard(n),new g.Notice(o.notices.imageCopied)},o.notices.failedToCopyImage),this.addMenuItem(e,o.menu.copyLocalPath,"link",async()=>{let s=await this.plugin.fileService.getImageFileWithErrorHandling(n);if(!s)return;let l=this.plugin.app.vault.adapter;if(!(l instanceof g.FileSystemAdapter)){new g.Notice(o.notices.cannotCopyPath);return}let m=l.getBasePath(),p=(0,_.join)(m,(0,g.normalizePath)(s.imgFile.path));await navigator.clipboard.writeText(p),new g.Notice(o.notices.filePathCopied)},o.notices.failedToCopyPath),e.addSeparator();let i=await this.plugin.fileService.getImageFileWithErrorHandling(n),a=null,r=null;if(i){let{width:s}=await this.plugin.imageService.readImageDimensions(i.imgFile);r=this.plugin.imageService.getCurrentImageWidth(i.activeFile,i.imgFile),a=r!==null?Math.round(r/s*100):null}this.plugin.settings.customResizeSizes.length>0&&this.plugin.settings.customResizeSizes.forEach(s=>{let l=s.match(/^(\d+)(px|%)$/);if(!l)return;let m=parseInt(l[1]),p=l[2],v=o.menu.resizeTo.replace("{size}",s),f=p==="%",I=f?a===m:r===m;this.addMenuItem(e,v,"image",async()=>await this.plugin.imageService.resizeImage(n,m,!f),o.notices.failedToResizeTo.replace("{size}",s),I)}),i&&a!==null&&this.addMenuItem(e,o.menu.removeCustomSize,"reset",async()=>{await this.plugin.imageService.removeImageWidth(i.imgFile),new g.Notice(o.notices.customSizeRemoved)},o.notices.failedToRemoveSize)}addFileOperationMenuItems(e,t){if(g.Platform.isMobile)return;let n=g.Platform.isMacOS;this.plugin.settings.showShowInFileExplorer&&this.addMenuItem(e,n?o.menu.showInFinder:o.menu.showInExplorer,"folder-open",async()=>{let a=await this.plugin.fileService.getImageFileWithErrorHandling(t);a&&await this.plugin.fileService.showInSystemExplorer(a.imgFile)},o.notices.failedToOpenExplorer),this.plugin.settings.showRenameOption&&this.addMenuItem(e,o.menu.renameImage,"pencil",async()=>{let a=await this.plugin.fileService.getImageFileWithErrorHandling(t);a&&await this.plugin.fileService.renameImage(a.imgFile)},o.notices.failedToRenameImage),this.plugin.settings.showDeleteImageOption&&this.addMenuItem(e,o.menu.deleteImageAndLink,"trash",async()=>{let a=await this.plugin.fileService.getImageFileWithErrorHandling(t);a&&await this.plugin.fileService.deleteImageAndLink(a.imgFile)},o.notices.failedToDeleteImage),(this.plugin.settings.showRenameOption||this.plugin.settings.showDeleteImageOption||this.plugin.settings.showShowInFileExplorer)&&e.addSeparator(),this.plugin.settings.showOpenInNewTab&&this.addMenuItem(e,o.menu.openInNewTab,"link-2",async()=>{let a=await this.plugin.fileService.getImageFileWithErrorHandling(t);a&&await this.plugin.app.workspace.openLinkText(a.imgFile.path,"",!0)},o.notices.failedToOpenInNewTab),this.plugin.settings.showOpenInDefaultApp&&this.addMenuItem(e,o.menu.openInDefaultApp,"image",async()=>{let a=await this.plugin.fileService.getImageFileWithErrorHandling(t);a&&await this.plugin.fileService.openInDefaultApp(a.imgFile)},o.notices.failedToOpenInDefaultApp);let i=y(this.plugin.settings);if(i!=null&&i.trim()){let a=this.plugin.settings.externalEditorName.trim()||"external editor";this.addMenuItem(e,o.menu.openInEditor.replace("{editor}",a),"edit",async()=>{let r=await this.plugin.fileService.getImageFileWithErrorHandling(t);r&&await this.plugin.fileService.openInExternalEditor(r.imgFile.path)},o.notices.failedToOpenInEditor.replace("{editor}",a))}}};var $=require("obsidian");var T=/!\[\[([^\]]+)\]\]/g,S=/!\[([^\]]*)\]\(([^)]+)\)/g;var D=class{constructor(e){this.dimensionCache=new Map;this.plugin=e}clearDimensionCache(){this.dimensionCache.clear()}async resizeImage(e,t,n=!1){let i=await this.plugin.fileService.getImageFileWithErrorHandling(e);if(!i)throw new Error("Could not find the image file");let{width:a}=await this.readImageDimensions(i.imgFile),r=n?t:Math.round(a*t/100);await this.updateImageLinkWidth(i.imgFile,r)}async updateImageLinkWidth(e,t){await this.plugin.linkService.updateImageLinks(e,n=>{let i=n.length>0?n[n.length-1]:null;return i!==null&&!isNaN(parseInt(i))?[...n.slice(0,n.length-1),String(t)]:[...n,String(t)]})}async removeImageWidth(e){await this.plugin.linkService.updateImageLinks(e,t=>{let n=t.length>0?t[t.length-1]:null;return n!==null&&!isNaN(parseInt(n))?t.slice(0,t.length-1):t})}async readImageDimensions(e){if(this.dimensionCache.has(e.path)){let t=this.dimensionCache.get(e.path);if(t)return t}try{let t=await this.plugin.app.vault.readBinary(e),n=this.createBlob(t,"image/*"),i=URL.createObjectURL(n);try{let a=await this.loadImage(i),r={width:a.width,height:a.height};return this.dimensionCache.set(e.path,r),r}finally{URL.revokeObjectURL(i)}}catch(t){throw h("Failed to read image file:",t),t}}calculateImageScale(e,t,n){let i=this.getCurrentImageWidth(e,t);return i===null?null:Math.round(i/n*100)}getCurrentImageWidth(e,t){var s;let n=(s=this.plugin.app.workspace.getActiveViewOfType($.MarkdownView))==null?void 0:s.editor;if(!n)return null;let i=n.getValue(),a=null,r=l=>{if(l.length===0)return null;let m=l[l.length-1],p=parseInt(m);return isNaN(p)?null:p};for(let l of i.matchAll(T)){let[,m]=l,[p]=m.split("#",1),[v,...f]=p.split("|"),I=this.plugin.app.metadataCache.getFirstLinkpathDest(v,e.path);if((I==null?void 0:I.path)===t.path){let E=r(f);if(E!==null){a=E;break}}}if(a===null)for(let l of i.matchAll(S)){let[,m,p]=l,[,...v]=m.split("|"),f=p;try{f=decodeURIComponent(p)}catch(E){}let I=this.plugin.app.metadataCache.getFirstLinkpathDest(f,e.path);if((I==null?void 0:I.path)===t.path){let E=r(v);if(E!==null){a=E;break}}}return a}loadImage(e,t){return new Promise((n,i)=>{let a=new Image;t&&(a.crossOrigin=t),a.onload=()=>n(a),a.onerror=()=>i(new Error("Failed to load image")),a.src=e})}createBlob(e,t){return new Blob([new Uint8Array(e)],{type:t})}async copyImageToClipboard(e){try{let t=await this.loadImage(e.src,"anonymous"),n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;let i=n.getContext("2d");if(!i)throw new Error("Failed to get canvas context");i.drawImage(t,0,0);let a=await new Promise(s=>{n.toBlob(s)});if(!a)throw new Error("Failed to create blob");let r=new ClipboardItem({[a.type]:a});await navigator.clipboard.write([r])}catch(t){throw h("Copy to clipboard failed:",t),t instanceof Error&&t.message.includes("Document is not focused")?new Error(o.notices.clickInEditorFirst):t}}};var j=require("obsidian");var A=class{constructor(e){this.plugin=e}updateLinks(e,t,n,i){return e=e.replace(T,(a,r)=>{let s=this.parseLinkComponents(r);return this.resolveLink(s.path,t,n)?(s.params=i(s.params),`![[${this.buildLinkPath(s)}]]`):a}),e.replace(S,(a,r,s)=>{let l=this.parseLinkComponents(r,s);if(!this.resolveLink(l.path,t,n))return a;let m=r.split("|")[0].trim()||n.basename;return l.params=i(l.params),`![${l.params.length>0?[m,...l.params].join("|"):m}](${this.buildLinkPath({...l,params:[]},!0)})`})}parseLinkComponents(e,t){let n=t!=null?t:e;if(t)try{n=decodeURIComponent(n)}catch(p){}let[i,a]=n.split("#",2),r=a?`#${a}`:"",[s,...l]=(t?e:i).split("|");return{path:t?i:s,hash:r,params:l,isWikiStyle:!t}}buildLinkPath(e,t=!1){let n=e.params.length>0?`|${e.params.join("|")}`:"",i=e.path;return t&&(i=e.path.split("/").map(a=>encodeURIComponent(a)).join("/")),`${i}${n}${e.hash}`}async updateImageLinks(e,t){let n=this.plugin.app.workspace.getActiveFile();if(!n)throw new Error("No active file, cannot update link.");if(n.path===e.path)return!1;if(!this.plugin.app.workspace.getActiveViewOfType(j.MarkdownView))throw new Error("No active MarkdownView to update.");let a=await this.plugin.app.vault.read(n),r=a,s=-1;a.startsWith(`---
`)&&(s=a.indexOf(`
---
`,4),s!==-1&&(s+=5,r=a.substring(s)));let l=this.updateLinks(r,n,e,t);if(l!==r)try{return await this.plugin.app.vault.process(n,m=>s!==-1?m.substring(0,s)+l:l),!0}catch(m){throw h("Failed to update file content:",m),new Error("Failed to update image link")}return!1}resolveLink(e,t,n){let i=this.plugin.app.metadataCache.getFirstLinkpathDest(e,t.path);return!i||n&&i.path!==n.path?null:i}async removeImageLinks(e){let t=this.plugin.app.workspace.getActiveFile();if(!t)throw new Error("No active file, cannot remove links.");if(t.path===e.path)return!1;let n=await this.plugin.app.vault.read(t),i=n,a=-1;n.startsWith(`---
`)&&(a=n.indexOf(`
---
`,4),a!==-1&&(a+=5,i=n.substring(a)));let r=i;if(r=r.replace(T,(s,l)=>{let m=this.parseLinkComponents(l);return this.resolveLink(m.path,t,e)?"":s}),r=r.replace(S,(s,l,m)=>{let p=this.parseLinkComponents(l,m);return this.resolveLink(p.path,t,e)?"":s}),r!==i)try{return await this.plugin.app.vault.process(t,s=>a!==-1?s.substring(0,a)+r:r),!0}catch(s){throw h("Failed to remove image links:",s),new Error("Failed to remove image links")}return!1}};var u=require("obsidian"),X=require("path"),q=require("child_process");var O=require("obsidian");var k=class extends O.Modal{constructor(t,n,i){super(t);this.result=null;this.originalName=n,this.onSubmit=i}onOpen(){let{contentEl:t}=this;t.empty(),t.addClass("pixel-perfect-rename-modal"),t.createEl("h2",{text:o.modals.rename.title,cls:"modal-title"});let n=t.createEl("form");n.addClass("pixel-perfect-rename-form");let i=n.createEl("input",{type:"text",value:this.originalName,cls:"pixel-perfect-rename-input"}),a=this.originalName.lastIndexOf(".");if(a>0){let l=this.originalName.substring(0,a);i.setSelectionRange(0,l.length)}let r=n.createDiv();r.addClass("pixel-perfect-button-container"),r.createEl("button",{text:o.modals.rename.renameButton,type:"submit",cls:"mod-cta"}),r.createEl("button",{text:o.modals.rename.cancelButton,type:"button"}).addEventListener("click",()=>{this.onSubmit(null),this.close()}),n.addEventListener("submit",l=>{l.preventDefault();let m=i.value.trim();m&&m!==this.originalName?this.onSubmit(m):this.onSubmit(null),this.close()}),i.focus()}onClose(){let{contentEl:t}=this;t.empty(),this.result===void 0&&this.onSubmit(null)}},N=class extends O.Modal{constructor(e,t,n){super(e),this.file=t,this.onConfirm=n}onOpen(){let{contentEl:e}=this;e.empty(),e.addClass("pixel-perfect-delete-modal"),e.createEl("h2",{text:o.modals.delete.title,cls:"modal-title"});let t=e.createDiv();t.addClass("pixel-perfect-delete-message"),t.createEl("p",{text:o.modals.delete.confirmMessage.replace("{filename}",this.file.name)}),t.createEl("p",{text:o.modals.delete.warningMessage,cls:"mod-warning"});let n=e.createDiv();n.addClass("pixel-perfect-button-container");let i=n.createEl("button",{text:o.modals.delete.deleteButton,cls:"mod-warning"}),a=n.createEl("button",{text:o.modals.delete.cancelButton});i.addEventListener("click",()=>{this.onConfirm(),this.close()}),a.addEventListener("click",()=>{this.close()}),a.focus()}onClose(){let{contentEl:e}=this;e.empty()}};var M=class{constructor(e){this.plugin=e}getFileForImage(e,t){var r;let n=(r=e.getAttribute("src"))!=null?r:"",i=e.getAttribute("alt"),a=this.parseFileNameFromSrc(n);if(a){let s=this.plugin.linkService.resolveLink(a,t);if(s)return s}if(i){i=i.split("|")[0].trim();let s=this.plugin.linkService.resolveLink(i,t);if(s)return s}return null}parseFileNameFromSrc(e){try{let t=decodeURIComponent(e),[n]=t.split("?"),i=n.lastIndexOf("/");return i<0||i>=n.length-1?null:n.substring(i+1)}catch(t){return null}}async getImageFileWithErrorHandling(e){let t=this.plugin.app.workspace.getActiveFile();if(!t)return null;let n=this.getFileForImage(e,t);return n?{activeFile:t,imgFile:n}:((e.naturalWidth>0||e.src)&&new u.Notice(o.notices.couldNotLocateImage),null)}async showInSystemExplorer(e){this.plugin.app.showInFolder(e.path)}async openInDefaultApp(e){this.plugin.app.openWithDefaultApp(e.path)}openInExternalEditor(e){let t=y(this.plugin.settings),n=this.plugin.settings.externalEditorName.trim()||"External Editor";if(!t){new u.Notice(o.notices.setEditorPath.replace("{editor}",n));return}let i=this.plugin.app.vault.adapter;if(!(i instanceof u.FileSystemAdapter)){new u.Notice(o.notices.cannotOpenFile);return}let a=i.getBasePath(),r=(0,X.join)(a,(0,u.normalizePath)(e)),s;u.Platform.isMacOS?s=`open -a "${t}" "${r}"`:s=`"${t}" "${r}"`,(0,q.exec)(s,l=>{l&&(h(`Error launching ${n}:`,l),new u.Notice(o.notices.couldNotOpenInEditor.replace("{editor}",n)))})}async renameImage(e){var n;let t=await this.promptForNewName(e);if(t)try{let a=`${((n=e.parent)==null?void 0:n.path)||"/"}/${t}`;await this.plugin.app.fileManager.renameFile(e,a),new u.Notice(o.notices.imageRenamed)}catch(i){h("Failed to rename file:",i),new u.Notice(o.notices.failedToRename)}}async promptForNewName(e){return new Promise(t=>{new k(this.plugin.app,e.name,i=>{t(i)}).open()})}async deleteImageAndLink(e){let t=async()=>{try{let n=await this.plugin.linkService.removeImageLinks(e);await this.plugin.app.fileManager.trashFile(e),n?new u.Notice(o.notices.imageAndLinksDeleted):new u.Notice(o.notices.imageDeleted)}catch(n){h("Failed to delete image:",n),new u.Notice(o.notices.failedToDelete)}};this.plugin.settings.confirmBeforeDelete?new N(this.plugin.app,e,t).open():await t()}};var F=class extends Y.Plugin{async onload(){await this.loadSettings(),this.eventService=new P(this),this.menuService=new C(this),this.imageService=new D(this),this.linkService=new A(this),this.fileService=new M(this),this.addSettingTab(new x(this.app,this)),this.menuService.registerImageContextMenu(),this.eventService.registerEvents()}onunload(){this.eventService.cleanup(),this.imageService.clearDimensionCache()}async loadSettings(){this.settings={...R,...await this.loadData()}}async saveSettings(){await this.saveData(this.settings)}};

/* nosourcemap */